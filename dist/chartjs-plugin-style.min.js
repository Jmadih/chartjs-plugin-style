/*
 * @license
 * chartjs-plugin-style
 * https://github.com/nagix/chartjs-plugin-style/
 * Version: 0.1.0
 *
 * Copyright 2018 Akihiko Kusanagi
 * Released under the MIT license
 * https://github.com/nagix/chartjs-plugin-style/blob/master/LICENSE.md
 */
!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js"],e):e(o.Chart)}(this,function(e){"use strict";var a,s,o,h,f,t,r,d,n,l,i,w,O,u,p,v,c,C,b,S,y,g,m=function(o){var d=o.defaults,Y=o.helpers,a=o.layouts;d.global.legend.labels.generateLabels=function(t){var o=t.data;return Y.isArray(o.datasets)?o.datasets.map(function(o,e){return{text:o.label,fillStyle:Y.isArray(o.backgroundColor)?o.backgroundColor[0]:o.backgroundColor,hidden:!t.isDatasetVisible(e),lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,pointStyle:o.pointStyle,shadowOffsetX:Y.isArray(o.shadowOffsetX)?o.shadowOffsetX[0]:o.shadowOffsetX,shadowOffsetY:Y.isArray(o.shadowOffsetY)?o.shadowOffsetY[0]:o.shadowOffsetY,shadowBlur:Y.isArray(o.shadowBlur)?o.shadowBlur[0]:o.shadowBlur,shadowColor:Y.isArray(o.shadowColor)?o.shadowColor[0]:o.shadowColor,datasetIndex:e}},this):[]};var s=o.Legend.extend({draw:function(){var o,e,i=this,w=i.options,u=w.labels,O=d.global,p=O.elements.line,v=i.width,c=i.lineWidths;if(w.display){var C,b=i.ctx,S=Y.valueOrDefault,t=S(u.fontColor,O.defaultFontColor),y=S(u.fontSize,O.defaultFontSize),a=S(u.fontStyle,O.defaultFontStyle),s=S(u.fontFamily,O.defaultFontFamily),r=Y.fontString(y,a,s);b.textAlign="left",b.textBaseline="middle",b.lineWidth=.5,b.strokeStyle=t,b.fillStyle=t,b.font=r;var g=(e=y,(o=u).usePointStyle?e*Math.SQRT2:o.boxWidth),m=i.legendHitBoxes,B=i.isHorizontal();C=B?{x:i.left+(v-c[0])/2,y:i.top+u.padding,line:0}:{x:i.left+u.padding,y:i.top+u.padding,line:0};var X=y+u.padding;Y.each(i.legendItems,function(o,e){var t,a,s,r,d,l=b.measureText(o.text).width,h=g+y/2+l,f=C.x,n=C.y;B?v<=f+h&&(n=C.y+=X,C.line++,f=C.x=i.left+(v-c[C.line])/2):n+X>i.bottom&&(f=C.x=f+i.columnWidths[C.line]+u.padding,n=C.y=i.top+u.padding,C.line++),function(o,e,t){if(!(isNaN(g)||g<=0)){b.save(),b.fillStyle=S(t.fillStyle,O.defaultColor),b.lineCap=S(t.lineCap,p.borderCapStyle),b.lineDashOffset=S(t.lineDashOffset,p.borderDashOffset),b.lineJoin=S(t.lineJoin,p.borderJoinStyle),b.lineWidth=S(t.lineWidth,p.borderWidth),b.strokeStyle=S(t.strokeStyle,O.defaultColor);var a=0===S(t.lineWidth,p.borderWidth);if(b.setLineDash&&b.setLineDash(S(t.lineDash,p.borderDash)),b.shadowOffsetX=S(t.shadowOffsetX,p.shadowOffsetX),b.shadowOffsetY=S(t.shadowOffsetY,p.shadowOffsetY),b.shadowBlur=S(t.shadowBlur,p.shadowBlur),b.shadowColor=S(t.shadowColor,p.shadowColor),w.labels&&w.labels.usePointStyle){var s=y*Math.SQRT2/2,r=s/Math.SQRT2,d=o+r,l=e+r;Y.canvas.drawPoint(b,t.pointStyle,s,d,l)}else a||b.strokeRect(o,e,g,y),b.fillRect(o,e,g,y);b.restore()}}(f,n,o),m[e].left=f,m[e].top=n,t=o,a=l,r=g+(s=y/2)+f,d=n+s,b.fillText(t.text,r,d),t.hidden&&(b.beginPath(),b.lineWidth=2,b.moveTo(r,d),b.lineTo(r+a,d),b.stroke()),B?C.x+=h+u.padding:C.y+=X})}}});function r(o,e){var t=new s({ctx:o.ctx,options:e,chart:o});a.configure(o,t,e),a.addBox(o,t),o.legend=t}return{id:"legend",_element:s,beforeInit:function(o){var e=o.options.legend;e&&r(o,e)},beforeUpdate:function(o){var e=o.options.legend,t=o.legend;e?(Y.mergeIf(e,d.global.legend),t?(a.configure(o,t,e),t.options=e):r(o,e)):t&&(a.removeBox(o,t),delete o.legend)},afterEvent:function(o,e){var t=o.legend;t&&t.handleEvent(e)}}};(e=e&&e.hasOwnProperty("default")?e.default:e).elements.StyleArc=e.elements.Arc.extend({draw:function(){var o=this._chart.ctx,e=this._view,t=e.startAngle,a=e.endAngle;o.beginPath(),o.arc(e.x,e.y,e.outerRadius,t,a),o.arc(e.x,e.y,e.innerRadius,a,t,!0),o.closePath(),o.strokeStyle=e.borderColor,o.lineWidth=e.borderWidth,o.fillStyle=e.backgroundColor,o.save(),o.shadowOffsetX=e.shadowOffsetX,o.shadowOffsetY=e.shadowOffsetY,o.shadowBlur=e.shadowBlur,o.shadowColor=e.shadowColor,o.fill(),o.restore(),o.lineJoin="bevel",e.borderWidth&&o.stroke()}}),e.elements.StyleLine=(a=e).elements.Line.extend({draw:function(){var o=this,e=o._view,t=o._chart.ctx;t.save(),t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,a.elements.Line.prototype.draw.apply(o,arguments),t.restore()}}),e.elements.StylePoint=(s=e).elements.Point.extend({draw:function(){var o=this,e=o._view,t=o._chart.ctx;t.save(),t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,s.elements.Point.prototype.draw.apply(o,arguments),t.restore()}}),e.elements.StyleRectangle=e.elements.Rectangle.extend({draw:function(){var o,e,t,a,s,r,d,l=this._chart.ctx,h=this._view,f=h.borderWidth;if(h.horizontal?(o=h.base,e=h.x,t=h.y-h.height/2,a=h.y+h.height/2,s=o<e?1:-1,r=1,d=h.borderSkipped||"left"):(o=h.x-h.width/2,e=h.x+h.width/2,s=1,r=(t=h.y)<(a=h.base)?1:-1,d=h.borderSkipped||"bottom"),f){var n=Math.min(Math.abs(o-e),Math.abs(t-a)),i=(f=n<f?n:f)/2,w=o+("left"!==d?i*s:0),u=e+("right"!==d?-i*s:0),O=t+("top"!==d?i*r:0),p=a+("bottom"!==d?-i*r:0);w!==u&&(t=O,a=p),O!==p&&(o=w,e=u)}l.beginPath(),l.fillStyle=h.backgroundColor,l.strokeStyle=h.borderColor,l.lineWidth=f,l.save(),l.shadowOffsetX=h.shadowOffsetX,l.shadowOffsetY=h.shadowOffsetY,l.shadowBlur=h.shadowBlur,l.shadowColor=h.shadowColor;var v=[[o,a],[o,t],[e,t],[e,a]],c=["bottom","left","top","right"].indexOf(d,0);function C(o){return v[(c+o)%4]}-1===c&&(c=0);var b=C(0);l.moveTo(b[0],b[1]);for(var S=1;S<4;S++)b=C(S),l.lineTo(b[0],b[1]);l.fill(),l.restore(),f&&l.stroke()}}),e.StyleTooltip=(h=(o=e).helpers,f=o.Tooltip,o.Tooltip.extend({initialize:function(){f.prototype.initialize.apply(this,arguments);var o=this._model,e=this._options;o.shadowOffsetX=e.shadowOffsetX,o.shadowOffsetY=e.shadowOffsetY,o.shadowBlur=e.shadowBlur,o.shadowColor=e.shadowColor},update:function(){f.prototype.update.apply(this,arguments);var o=this._model,e=this._options;return o.shadowOffsetX=e.shadowOffsetX,o.shadowOffsetY=e.shadowOffsetY,o.shadowBlur=e.shadowBlur,o.shadowColor=e.shadowColor,this},drawBackground:function(o,e,t,a,s){var r,d,l;t.save(),t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.shadowBlur=e.shadowBlur,t.shadowColor=(r=e.shadowColor,d=s,(l=h.color(r)).alpha(d*l.alpha()).rgbaString()),f.prototype.drawBackground.apply(this,arguments),t.restore()}})),(t=e).helpers.extend(t.prototype,{initToolTip:function(){var o=this;o.tooltip=new t.StyleTooltip({_chart:o,_chartInstance:o,_data:o.data,_options:o.options.tooltips},o)}}),e.controllers.bar=(d=(r=e).elements,n=r.helpers,l=r.controllers.bar,r.controllers.bar.extend({dataElementType:d.StyleRectangle,updateElement:function(o,e,t){var a=this,s=a.chart,r=a.getMeta(),d=a.getDataset(),l=o.custom||{},h=s.options.elements.rectangle;o._xScale=a.getScaleForId(r.xAxisID),o._yScale=a.getScaleForId(r.yAxisID),o._datasetIndex=a.index,o._index=e,o._model={datasetLabel:d.label,label:s.data.labels[e],borderSkipped:l.borderSkipped?l.borderSkipped:h.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:n.valueAtIndexOrDefault(d.backgroundColor,e,h.backgroundColor),borderColor:l.borderColor?l.borderColor:n.valueAtIndexOrDefault(d.borderColor,e,h.borderColor),borderWidth:l.borderWidth?l.borderWidth:n.valueAtIndexOrDefault(d.borderWidth,e,h.borderWidth),shadowOffsetX:l.shadowOffsetX?l.shadowOffsetX:n.valueAtIndexOrDefault(d.shadowOffsetX,e,h.shadowOffsetX),shadowOffsetY:l.shadowOffsetY?l.shadowOffsetY:n.valueAtIndexOrDefault(d.shadowOffsetY,e,h.shadowOffsetY),shadowBlur:l.shadowBlur?l.shadowBlur:n.valueAtIndexOrDefault(d.shadowBlur,e,h.shadowBlur),shadowColor:l.shadowColor?l.shadowColor:n.valueAtIndexOrDefault(d.shadowColor,e,h.shadowColor)},a.updateElementGeometry(o,e,t),o.pivot()},setHoverStyle:function(o){l.prototype.setHoverStyle.apply(this,arguments);var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=n.valueAtIndexOrDefault,r=o._model;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=r.shadowOffsetX,o.$previousStyle.shadowOffsetY=r.shadowOffsetY,o.$previousStyle.shadowBlur=r.shadowBlur,o.$previousStyle.shadowColor=r.shadowColor),r.shadowOffsetX=a.hoverShadowOffsetX?a.hoverShadowOffsetX:s(e.hoverShadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.hoverShadowOffsetY?a.hoverShadowOffsetY:s(e.hoverShadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.hoverShadowBlur?a.hoverShadowBlur:s(e.hoverShadowBlur,t,r.shadowBlur),r.shadowColor=a.hoverShadowColor?a.hoverShadowColor:s(e.hoverShadowColor,t,n.getHoverColor(r.shadowColor))},removeHoverStyle:function(o){var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=n.valueAtIndexOrDefault,r=o._model;o.$previousStyle||(r.shadowOffsetX=a.shadowOffsetX?a.shadowOffsetX:s(e.shadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.shadowOffsetY?a.shadowOffsetY:s(e.shadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.shadowBlur?a.shadowBlur:s(e.shadowBlur,t,r.shadowBlur),r.shadowColor=a.shadowColor?a.shadowColor:s(e.shadowColor,t,r.shadowColor)),l.prototype.removeHoverStyle.apply(this,arguments)}})),e.controllers.bubble=(w=(i=e).elements,O=i.helpers,u=i.controllers.bubble,i.controllers.bubble.extend({dataElementType:w.StylePoint,updateElement:function(o,e,t){var a=this,s=a.getMeta(),r=o.custom||{},d=a.getScaleForId(s.xAxisID),l=a.getScaleForId(s.yAxisID),h=a._resolveElementOptions(o,e),f=a.getDataset().data[e],n=a.index,i=t?d.getPixelForDecimal(.5):d.getPixelForValue("object"==typeof f?f:NaN,e,n),w=t?l.getBasePixel():l.getPixelForValue(f,e,n);o._xScale=d,o._yScale=l,o._options=h,o._datasetIndex=n,o._index=e,o._model={backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:h.borderWidth,hitRadius:h.hitRadius,pointStyle:h.pointStyle,radius:t?0:h.radius,skip:r.skip||isNaN(i)||isNaN(w),x:i,y:w,shadowOffsetX:h.shadowOffsetX,shadowOffsetY:h.shadowOffsetY,shadowBlur:h.shadowBlur,shadowColor:h.shadowColor},o.pivot()},setHoverStyle:function(o){u.prototype.setHoverStyle.apply(this,arguments);var e=O.valueOrDefault,t=o._model,a=o._options;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=t.shadowOffsetX,o.$previousStyle.shadowOffsetY=t.shadowOffsetY,o.$previousStyle.shadowBlur=t.shadowBlur,o.$previousStyle.shadowColor=t.shadowColor),t.shadowOffsetX=e(a.hoverShadowOffsetX,a.shadowOffsetX),t.shadowOffsetY=e(a.hoverShadowOffsetY,a.shadowOffsetY),t.shadowBlur=e(a.hoverShadowBlur,a.shadowBlur),t.shadowColor=e(a.hoverShadowColor,O.getHoverColor(a.shadowColor))},removeHoverStyle:function(o){var e=o._model,t=o._options;o.$previousStyle||(e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor),u.prototype.removeHoverStyle.apply(this,arguments)},_resolveElementOptions:function(o,e){var t,a,s,r=this.chart,d=r.data.datasets[this.index],l=o.custom||{},h=r.options.elements.point,f=O.options.resolve,n=d.data[e],i={},w={chart:r,dataIndex:e,dataset:d,datasetIndex:this.index},u=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","hoverShadowOffsetX","hoverShadowOffsetY","hoverShadowBlur","hoverShadowColor"];for(t=0,a=u.length;t<a;++t)i[s=u[t]]=f([l[s],d[s],h[s]],w,e);return i.radius=f([l.radius,n?n.r:void 0,d.radius,h.radius],w,e),i}})),e.controllers.doughnut=function(o){var e=o.elements,y=o.helpers;o.defaults.doughnut.legend.labels.generateLabels=function(h){var f=h.data;return f.labels.length&&f.datasets.length?f.labels.map(function(o,e){var t=h.getDatasetMeta(0),a=f.datasets[0],s=t.data[e],r=s&&s.custom||{},d=y.valueAtIndexOrDefault,l=h.options.elements.arc;return{text:o,fillStyle:r.backgroundColor?r.backgroundColor:d(a.backgroundColor,e,l.backgroundColor),strokeStyle:r.borderColor?r.borderColor:d(a.borderColor,e,l.borderColor),lineWidth:r.borderWidth?r.borderWidth:d(a.borderWidth,e,l.borderWidth),hidden:isNaN(a.data[e])||t.data[e].hidden,shadowOffsetX:r.shadowOffsetX?r.shadowOffsetX:d(a.shadowOffsetX,e,l.shadowOffsetX),shadowOffsetY:r.shadowOffsetY?r.shadowOffsetY:d(a.shadowOffsetY,e,l.shadowOffsetY),shadowBlur:r.shadowBlur?r.shadowBlur:d(a.shadowBlur,e,l.shadowBlur),shadowColor:r.shadowColor?r.shadowColor:d(a.shadowColor,e,l.shadowColor),index:e}}):[]};var d=o.controllers.doughnut;return o.controllers.doughnut.extend({dataElementType:e.StyleArc,updateElement:function(o,e,t){var a=this,s=a.chart,r=s.chartArea,d=s.options,l=d.animation,h=(r.left+r.right)/2,f=(r.top+r.bottom)/2,n=d.rotation,i=d.rotation,w=a.getDataset(),u=t&&l.animateRotate?0:o.hidden?0:a.calculateCircumference(w.data[e])*(d.circumference/(2*Math.PI)),O=t&&l.animateScale?0:a.innerRadius,p=t&&l.animateScale?0:a.outerRadius,v=y.valueAtIndexOrDefault;y.extend(o,{_datasetIndex:a.index,_index:e,_model:{x:h+s.offsetX,y:f+s.offsetY,startAngle:n,endAngle:i,circumference:u,outerRadius:p,innerRadius:O,label:v(w.label,e,s.data.labels[e])}});var c=o._model,C=o.custom||{},b=y.valueAtIndexOrDefault,S=this.chart.options.elements.arc;c.backgroundColor=C.backgroundColor?C.backgroundColor:b(w.backgroundColor,e,S.backgroundColor),c.borderColor=C.borderColor?C.borderColor:b(w.borderColor,e,S.borderColor),c.borderWidth=C.borderWidth?C.borderWidth:b(w.borderWidth,e,S.borderWidth),c.shadowOffsetX=C.shadowOffsetX?C.shadowOffsetX:b(w.shadowOffsetX,e,S.shadowOffsetX),c.shadowOffsetY=C.shadowOffsetY?C.shadowOffsetY:b(w.shadowOffsetY,e,S.shadowOffsetY),c.shadowBlur=C.shadowBlur?C.shadowBlur:b(w.shadowBlur,e,S.shadowBlur),c.shadowColor=C.shadowColor?C.shadowColor:b(w.shadowColor,e,S.shadowColor),t&&l.animateRotate||(c.startAngle=0===e?d.rotation:a.getMeta().data[e-1]._model.endAngle,c.endAngle=c.startAngle+c.circumference),o.pivot()},setHoverStyle:function(o){d.prototype.setHoverStyle.apply(this,arguments);var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=y.valueAtIndexOrDefault,r=o._model;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=r.shadowOffsetX,o.$previousStyle.shadowOffsetY=r.shadowOffsetY,o.$previousStyle.shadowBlur=r.shadowBlur,o.$previousStyle.shadowColor=r.shadowColor),r.shadowOffsetX=a.hoverShadowOffsetX?a.hoverShadowOffsetX:s(e.hoverShadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.hoverShadowOffsetY?a.hoverShadowOffsetY:s(e.hoverShadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.hoverShadowBlur?a.hoverShadowBlur:s(e.hoverShadowBlur,t,r.shadowBlur),r.shadowColor=a.hoverShadowColor?a.hoverShadowColor:s(e.hoverShadowColor,t,y.getHoverColor(r.shadowColor))},removeHoverStyle:function(o){var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=y.valueAtIndexOrDefault,r=o._model;o.$previousStyle||(r.shadowOffsetX=a.shadowOffsetX?a.shadowOffsetX:s(e.shadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.shadowOffsetY?a.shadowOffsetY:s(e.shadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.shadowBlur?a.shadowBlur:s(e.shadowBlur,t,r.shadowBlur),r.shadowColor=a.shadowColor?a.shadowColor:s(e.shadowColor,t,r.shadowColor)),d.prototype.removeHoverStyle.apply(this,arguments)}})}(e),e.controllers.line=(v=(p=e).elements,c=p.helpers,C=p.controllers.line,p.controllers.line.extend({datasetElementType:v.StyleLine,dataElementType:v.StylePoint,update:function(o){var e,t,a,s,r,d=this,l=d.getMeta(),h=l.dataset,f=l.data||[],n=d.chart.options,i=n.elements.line,w=d.getScaleForId(l.yAxisID),u=d.getDataset(),O=(s=u,r=n,c.valueOrDefault(s.showLine,r.showLines));for(O&&(a=h.custom||{},void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),h._scale=w,h._datasetIndex=d.index,h._children=f,h._model={spanGaps:u.spanGaps?u.spanGaps:n.spanGaps,tension:a.tension?a.tension:c.valueOrDefault(u.lineTension,i.tension),backgroundColor:a.backgroundColor?a.backgroundColor:u.backgroundColor||i.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:u.borderWidth||i.borderWidth,borderColor:a.borderColor?a.borderColor:u.borderColor||i.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:u.borderCapStyle||i.borderCapStyle,borderDash:a.borderDash?a.borderDash:u.borderDash||i.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:u.borderDashOffset||i.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:u.borderJoinStyle||i.borderJoinStyle,fill:a.fill?a.fill:void 0!==u.fill?u.fill:i.fill,steppedLine:a.steppedLine?a.steppedLine:c.valueOrDefault(u.steppedLine,i.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:c.valueOrDefault(u.cubicInterpolationMode,i.cubicInterpolationMode),shadowOffsetX:a.shadowOffsetX?a.shadowOffsetX:u.shadowOffsetX||i.shadowOffsetX,shadowOffsetY:a.shadowOffsetY?a.shadowOffsetY:u.shadowOffsetY||i.shadowOffsetY,shadowBlur:a.shadowBlur?a.shadowBlur:u.shadowBlur||i.shadowBlur,shadowColor:a.shadowColor?a.shadowColor:u.shadowColor||i.shadowColor},h.pivot()),e=0,t=f.length;e<t;++e)d.updateElement(f[e],e,o);for(O&&0!==h._model.tension&&d.updateBezierControlPoints(),e=0,t=f.length;e<t;++e)f[e].pivot()},getPointShadowOffsetX:function(o,e){var t=this.chart.options.elements.point.shadowOffsetX,a=this.getDataset(),s=o.custom||{};return s.shadowOffsetX?t=s.shadowOffsetX:a.pointShadowOffsetX?t=c.valueAtIndexOrDefault(a.pointShadowOffsetX,e,t):a.shadowOffsetX&&(t=a.shadowOffsetX),t},getPointShadowOffsetY:function(o,e){var t=this.chart.options.elements.point.shadowOffsetY,a=this.getDataset(),s=o.custom||{};return s.shadowOffsetY?t=s.shadowOffsetY:a.pointShadowOffsetY?t=c.valueAtIndexOrDefault(a.pointShadowOffsetY,e,t):a.shadowOffsetY&&(t=a.shadowOffsetY),t},getPointShadowBlur:function(o,e){var t=this.chart.options.elements.point.shadowBlur,a=this.getDataset(),s=o.custom||{};return s.shadowBlur?t=s.shadowBlur:a.pointShadowBlur?t=c.valueAtIndexOrDefault(a.pointShadowBlur,e,t):a.shadowBlur&&(t=a.shadowBlur),t},getPointShadowColor:function(o,e){var t=this.chart.options.elements.point.shadowColor,a=this.getDataset(),s=o.custom||{};return s.shadowColor?t=s.shadowColor:a.pointShadowColor?t=c.valueAtIndexOrDefault(a.pointShadowColor,e,t):a.shadowColor&&(t=a.shadowColor),t},updateElement:function(o,e){C.prototype.updateElement.apply(this,arguments),o._model.shadowOffsetX=this.getPointShadowOffsetX(o,e),o._model.shadowOffsetY=this.getPointShadowOffsetY(o,e),o._model.shadowBlur=this.getPointShadowBlur(o,e),o._model.shadowColor=this.getPointShadowColor(o,e)},setHoverStyle:function(o){C.prototype.setHoverStyle.apply(this,arguments);var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=c.valueAtIndexOrDefault,r=o._model;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=r.shadowOffsetX,o.$previousStyle.shadowOffsetY=r.shadowOffsetY,o.$previousStyle.shadowBlur=r.shadowBlur,o.$previousStyle.shadowColor=r.shadowColor),r.shadowOffsetX=a.hoverShadowOffsetX||s(e.pointHoverShadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.hoverShadowOffsetY||s(e.pointHoverShadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.hoverShadowBlur||s(e.pointHoverShadowBlur,t,r.shadowBlur),r.shadowColor=a.hoverShadowColor||s(e.pointHoverShadowColor,t,c.getHoverColor(r.shadowColor))},removeHoverStyle:function(o){var e=o._index,t=o._model;o.$previousStyle||(t.shadowOffsetX=this.getPointShadowOffsetX(o,e),t.shadowOffsetY=this.getPointShadowOffsetY(o,e),t.shadowBlur=this.getPointShadowBlur(o,e),t.shadowColor=this.getPointShadowColor(o,e)),C.prototype.removeHoverStyle.apply(this,arguments)}})),e.controllers.pie=e.controllers.doughnut,e.controllers.polarArea=function(o){var e=o.elements,X=o.helpers;o.defaults.doughnut.legend.labels.generateLabels=function(l){var h=l.data;return h.labels.length&&h.datasets.length?h.labels.map(function(o,e){var t=l.getDatasetMeta(0),a=h.datasets[0],s=t.data[e].custom||{},r=X.valueAtIndexOrDefault,d=l.options.elements.arc;return{text:o,fillStyle:s.backgroundColor?s.backgroundColor:r(a.backgroundColor,e,d.backgroundColor),strokeStyle:s.borderColor?s.borderColor:r(a.borderColor,e,d.borderColor),lineWidth:s.borderWidth?s.borderWidth:r(a.borderWidth,e,d.borderWidth),hidden:isNaN(a.data[e])||t.data[e].hidden,shadowOffsetX:s.shadowOffsetX?s.shadowOffsetX:r(a.shadowOffsetX,e,d.shadowOffsetX),shadowOffsetY:s.shadowOffsetY?s.shadowOffsetY:r(a.shadowOffsetY,e,d.shadowOffsetY),shadowBlur:s.shadowBlur?s.shadowBlur:r(a.shadowBlur,e,d.shadowBlur),shadowColor:s.shadowColor?s.shadowColor:r(a.shadowColor,e,d.shadowColor),index:e}}):[]};var d=o.controllers.polarArea;return o.controllers.polarArea.extend({dataElementType:e.StyleArc,updateElement:function(o,e,t){for(var a=this,s=a.chart,r=a.getDataset(),d=s.options,l=d.animation,h=s.scale,f=s.data.labels,n=a.calculateCircumference(r.data[e]),i=h.xCenter,w=h.yCenter,u=0,O=a.getMeta(),p=0;p<e;++p)isNaN(r.data[p])||O.data[p].hidden||++u;var v=d.startAngle,c=o.hidden?0:h.getDistanceFromCenterForValue(r.data[e]),C=n?v+n*u:a._starts[e],b=C+(o.hidden?0:n||a._angles[e]),S=l.animateScale?0:h.getDistanceFromCenterForValue(r.data[e]);X.extend(o,{_datasetIndex:a.index,_index:e,_scale:h,_model:{x:i,y:w,innerRadius:0,outerRadius:t?S:c,startAngle:t&&l.animateRotate?v:C,endAngle:t&&l.animateRotate?v:b,label:X.valueAtIndexOrDefault(f,e,f[e])}});var y=this.chart.options.elements.arc,g=o.custom||{},m=X.valueAtIndexOrDefault,B=o._model;B.backgroundColor=g.backgroundColor?g.backgroundColor:m(r.backgroundColor,e,y.backgroundColor),B.borderColor=g.borderColor?g.borderColor:m(r.borderColor,e,y.borderColor),B.borderWidth=g.borderWidth?g.borderWidth:m(r.borderWidth,e,y.borderWidth),B.shadowOffsetX=g.shadowOffsetX?g.shadowOffsetX:m(r.shadowOffsetX,e,y.shadowOffsetX),B.shadowOffsetY=g.shadowOffsetY?g.shadowOffsetY:m(r.shadowOffsetY,e,y.shadowOffsetY),B.shadowBlur=g.shadowBlur?g.shadowBlur:m(r.shadowBlur,e,y.shadowBlur),B.shadowColor=g.shadowColor?g.shadowColor:m(r.shadowColor,e,y.shadowColor),o.pivot()},setHoverStyle:function(o){d.prototype.setHoverStyle.apply(this,arguments);var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=X.valueAtIndexOrDefault,r=o._model;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=r.shadowOffsetX,o.$previousStyle.shadowOffsetY=r.shadowOffsetY,o.$previousStyle.shadowBlur=r.shadowBlur,o.$previousStyle.shadowColor=r.shadowColor),r.shadowOffsetX=a.hoverShadowOffsetX?a.hoverShadowOffsetX:s(e.hoverShadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.hoverShadowOffsetY?a.hoverShadowOffsetY:s(e.hoverShadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.hoverShadowBlur?a.hoverShadowBlur:s(e.hoverShadowBlur,t,r.shadowBlur),r.shadowColor=a.hoverShadowColor?a.hoverShadowColor:s(e.hoverShadowColor,t,X.getHoverColor(r.shadowColor))},removeHoverStyle:function(o){var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=X.valueAtIndexOrDefault,r=o._model;o.$previousStyle||(r.shadowOffsetX=a.shadowOffsetX?a.shadowOffsetX:s(e.shadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.shadowOffsetY?a.shadowOffsetY:s(e.shadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.shadowBlur?a.shadowBlur:s(e.shadowBlur,t,r.shadowBlur),r.shadowColor=a.shadowColor?a.shadowColor:s(e.shadowColor,t,r.shadowColor)),d.prototype.removeHoverStyle.apply(this,arguments)}})}(e),e.controllers.radar=(S=(b=e).elements,y=b.helpers,g=b.controllers.radar,b.controllers.radar.extend({datasetElementType:S.StyleLine,dataElementType:S.StylePoint,update:function(t){var a=this,o=a.getMeta(),e=o.dataset,s=o.data,r=e.custom||{},d=a.getDataset(),l=a.chart.options.elements.line,h=a.chart.scale;void 0!==d.tension&&void 0===d.lineTension&&(d.lineTension=d.tension),y.extend(o.dataset,{_datasetIndex:a.index,_scale:h,_children:s,_loop:!0,_model:{tension:r.tension?r.tension:y.valueOrDefault(d.lineTension,l.tension),backgroundColor:r.backgroundColor?r.backgroundColor:d.backgroundColor||l.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:d.borderWidth||l.borderWidth,borderColor:r.borderColor?r.borderColor:d.borderColor||l.borderColor,fill:r.fill?r.fill:void 0!==d.fill?d.fill:l.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:d.borderCapStyle||l.borderCapStyle,borderDash:r.borderDash?r.borderDash:d.borderDash||l.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:d.borderDashOffset||l.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:d.borderJoinStyle||l.borderJoinStyle,shadowOffsetX:r.shadowOffsetX?r.shadowOffsetX:d.shadowOffsetX||l.shadowOffsetX,shadowOffsetY:r.shadowOffsetY?r.shadowOffsetY:d.shadowOffsetY||l.shadowOffsetY,shadowBlur:r.shadowBlur?r.shadowBlur:d.shadowBlur||l.shadowBlur,shadowColor:r.shadowColor?r.shadowColor:d.shadowColor||l.shadowColor}}),o.dataset.pivot(),y.each(s,function(o,e){a.updateElement(o,e,t)},a),a.updateBezierControlPoints()},updateElement:function(o,e){g.prototype.updateElement.apply(this,arguments);var t=o.custom||{},a=this.getDataset(),s=this.chart.options.elements.point;o._model.shadowOffsetX=t.shadowOffsetX?t.shadowOffsetX:y.valueAtIndexOrDefault(a.pointShadowOffsetX,e,s.shadowOffsetX),o._model.shadowOffsetY=t.shadowOffsetY?t.shadowOffsetY:y.valueAtIndexOrDefault(a.pointShadowOffsetY,e,s.shadowOffsetY),o._model.shadowBlur=t.shadowBlur?t.shadowBlur:y.valueAtIndexOrDefault(a.pointShadowBlur,e,s.shadowBlur),o._model.shadowColor=t.shadowColor?t.shadowColor:y.valueAtIndexOrDefault(a.pointShadowColor,e,s.shadowColor)},setHoverStyle:function(o){g.prototype.setHoverStyle.apply(this,arguments);var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=y.valueAtIndexOrDefault,r=o._model;o.$previousStyle&&(o.$previousStyle.shadowOffsetX=r.shadowOffsetX,o.$previousStyle.shadowOffsetY=r.shadowOffsetY,o.$previousStyle.shadowBlur=r.shadowBlur,o.$previousStyle.shadowColor=r.shadowColor),r.shadowOffsetX=a.hoverShadowOffsetX?a.hoverShadowOffsetX:s(e.pointHoverShadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.hoverShadowOffsetY?a.hoverShadowOffsetY:s(e.pointHoverShadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.hoverShadowBlur?a.hoverShadowBlur:s(e.pointHoverShadowBlur,t,r.shadowBlur),r.shadowColor=a.hoverShadowColor?a.hoverShadowColor:s(e.pointHoverShadowColor,t,y.getHoverColor(r.shadowColor))},removeHoverStyle:function(o){var e=this.chart.data.datasets[o._datasetIndex],t=o._index,a=o.custom||{},s=y.valueAtIndexOrDefault,r=o._model;o.$previousStyle||(r.shadowOffsetX=a.shadowOffsetX?a.shadowOffsetX:s(e.shadowOffsetX,t,r.shadowOffsetX),r.shadowOffsetY=a.shadowOffsetY?a.shadowOffsetY:s(e.shadowOffsetY,t,r.shadowOffsetY),r.shadowBlur=a.shadowBlur?a.shadowBlur:s(e.shadowBlur,t,r.shadowBlur),r.shadowColor=a.shadowColor?a.shadowColor:s(e.shadowColor,t,r.shadowColor)),g.prototype.removeHoverStyle.apply(this,arguments)}})),e.controllers.scatter=e.controllers.line,e.plugins.getAll().forEach(function(o){"legend"===o.id&&e.plugins.unregister(o)}),e.plugins.register(m(e)),e.Legend=m._element});